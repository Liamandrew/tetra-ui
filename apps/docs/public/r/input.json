{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "input",
  "type": "registry:ui",
  "title": "Input",
  "description": "",
  "registryDependencies": [
    "icons"
  ],
  "files": [
    {
      "path": "../../packages/tetra-ui/src/components/input.tsx",
      "content": "import { cva, type VariantProps } from \"class-variance-authority\";\nimport {\n  Children,\n  cloneElement,\n  isValidElement,\n  useCallback,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  type BlurEvent,\n  type FocusEvent,\n  Pressable,\n  TextInput as RNTextInput,\n  View,\n} from \"react-native\";\nimport { useCSSVariable } from \"uniwind\";\nimport { cn } from \"../lib/utils\";\n\n// Types\nexport type InputProps = Omit<\n  React.ComponentPropsWithRef<typeof RNTextInput>,\n  \"editable\"\n> & {\n  disabled?: boolean;\n};\n\nexport type InputPressableProps = React.ComponentProps<typeof Pressable> & {\n  disabled?: boolean;\n  invalid?: boolean;\n  focused?: boolean;\n};\n\nexport type InputAddonProps = React.ComponentProps<typeof View> &\n  VariantProps<typeof inputAddonVariants> & {\n    children: React.ReactNode;\n  };\n\ntype InputAddonChild = React.ReactElement<InputAddonProps>;\nexport type InputAddonChildren = InputAddonChild | InputAddonChild[];\n\ntype InputAddonIconProps = {\n  children: React.ReactNode;\n  className?: string;\n};\n\ntype UseInputFocusStateProps = {\n  onFocus?: (e: FocusEvent) => void;\n  onBlur?: (e: BlurEvent) => void;\n};\n\n// Components\nexport const Input = ({ className, disabled, ...props }: InputProps) => {\n  const placeholderTextColor = useCSSVariable(\n    \"--color-muted-foreground\"\n  ) as string;\n  return (\n    <RNTextInput\n      className={cn(\"grow text-base text-foreground leading-tight\", className)}\n      editable={!disabled}\n      placeholderTextColor={placeholderTextColor}\n      {...props}\n    />\n  );\n};\n\nexport const InputPressable = ({\n  children,\n  disabled,\n  invalid,\n  focused,\n  onPress,\n  className,\n}: InputPressableProps) => {\n  return (\n    <Pressable\n      accessibilityState={{ disabled }}\n      className={cn(\n        \"flex min-h-12 w-full grow flex-row items-center gap-2 rounded-lg border border-input bg-transparent px-3 py-2 shadow-xs transition-color active:bg-accent/90 disabled:opacity-50 dark:active:bg-accent/50\",\n        invalid && \"border-destructive\",\n        focused && \"border-ring\",\n        className\n      )}\n      disabled={disabled}\n      onPress={onPress}\n    >\n      {children}\n    </Pressable>\n  );\n};\n\nexport const InputAddon = ({ align, className, ...props }: InputAddonProps) => {\n  return (\n    <View className={cn(inputAddonVariants({ align }), className)} {...props} />\n  );\n};\n\nexport const InputAddonIcon = (\n  props: InputAddonIconProps\n): React.ReactElement | null => {\n  const child = Children.only(props.children);\n\n  if (!child) {\n    if (__DEV__) {\n      throw new Error(\n        \"InputAddonIcon expects a single React element as children\"\n      );\n    }\n    return null;\n  }\n\n  return cloneElement(child as React.ReactElement<InputAddonIconProps>, {\n    ...props,\n    className: cn(\"size-6 bg-muted-foreground\", props.className),\n  });\n};\n\n// Hooks\nexport const useInputFocusState = ({\n  onFocus,\n  onBlur,\n}: UseInputFocusStateProps) => {\n  const [isFocused, setIsFocused] = useState(false);\n\n  const internalRef = useRef<RNTextInput>(null);\n\n  const handleFocus = useCallback(\n    (e: FocusEvent) => {\n      onFocus?.(e);\n\n      setIsFocused(true);\n    },\n    [onFocus]\n  );\n\n  const handleBlur = useCallback(\n    (e: BlurEvent) => {\n      onBlur?.(e);\n\n      setIsFocused(false);\n    },\n    [onBlur]\n  );\n\n  const handlePress = useCallback(() => internalRef.current?.focus(), []);\n\n  return {\n    isFocused,\n    internalRef,\n    handleFocus,\n    handleBlur,\n    handlePress,\n  };\n};\n\nexport const useInputAddons = (\n  children?: InputAddonChildren | React.ReactElement | null\n) => {\n  const startAddons: InputAddonChild[] = [];\n  const endAddons: InputAddonChild[] = [];\n\n  Children.forEach(children, (child) => {\n    if (isValidElement(child) && child.type === InputAddon) {\n      const typedChild = child as InputAddonChild;\n      if (\n        typeof typedChild.props.align === \"undefined\" ||\n        typedChild.props.align === \"inline-start\"\n      ) {\n        startAddons.push(typedChild);\n      } else {\n        endAddons.push(typedChild);\n      }\n    }\n  });\n\n  return {\n    startAddons,\n    endAddons,\n    pressableClassName: cn(\n      startAddons.length && \"pl-0\",\n      endAddons.length && \"pr-0\"\n    ),\n  };\n};\n\n// Styles\nconst inputAddonVariants = cva(\"flex items-center justify-center\", {\n  variants: {\n    align: {\n      \"inline-start\": \"pl-3\",\n      \"inline-end\": \"pr-3\",\n    },\n  },\n  defaultVariants: {\n    align: \"inline-start\",\n  },\n});\n",
      "type": "registry:ui"
    }
  ]
}